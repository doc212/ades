{#
/**
 * Copyright (c) 2014 Tuan-Tu TRAN
 * 
 * This file is part of ADES.
 * 
 * ADES is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * ADES is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with ADES.  If not, see <http://www.gnu.org/licenses/>.
*/
#}

{% extends 'EducActionAdesBundle::layout.html.twig' %}

{% block content %}

<h2>Sauvegarde de la base de données</h2>

{% include "EducActionAdesBundle:Backup:backup_result.html.twig" %}

{% include "EducActionAdesBundle:Backup:delete_result.html.twig" %}

{% include "EducActionAdesBundle:Backup:delete_many_result.html.twig" %}

{% include "EducActionAdesBundle:Backup:restore_result.html.twig" %}

{% include "EducActionAdesBundle:Backup:upload_result.html.twig" %}

{% include "EducActionAdesBundle:Backup:last_backup.html.twig" %}

{% include "EducActionAdesBundle:Backup:form.html.twig" %}

{% include "EducActionAdesBundle:Backup:list.html.twig" %}

{% endblock %}

{% block post_head %}
    {{ parent() }}
	<script type="text/javascript">
		jQuery(function($){
            $("input.comment")
                .click(function(){
                    if($(this).next().val()==""){
                        $(this).select();
                    }
                })
                .change(function(){
                    $(this).next().val(1);
                })
            ;
                $("input#delete_many").click(function(event){
                        if($("input[name='to_delete[]']:checked").length == 0){
                                alert("Veuillez sélectionner un ou plusieurs backups à effacer");
                                event.preventDefault();
                        }
                });
                $("table#backup_table  tr:not(:first-child) td:first-child input").click(function(event){
                        event.stopPropagation();
                });
                $("table#backup_table  tr:not(:first-child) td:first-child").click(function(){
                        $(this).children().click();
                });
		});
	</script>
	<style type="text/css">
		tr.backup:hover{background-color:yellow}
        table#backup_table td{
                padding:5px;
                border:1pt solid black;
        }
        table#backup_table{
                border-collapse:collapse;
                margin:auto;
                margin-top:1em;
        }
        table#backup_table  tr:last-child td{
                border:none;
        }
        table#backup_table  tr:not(:first-child) td:first-child,
        table#backup_table  tr:not(:first-child) td:first-child input
        {
                cursor:pointer;
        }

        #tabs input
        {
            padding:0;
        }

        #tabs input[type="text"]
        {
            padding-left:2px;
        }

        #tabs input[type="submit"]
        {
            padding:2px;
        }
	</style>
{% endblock %}
